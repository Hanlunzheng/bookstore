{"ast":null,"code":"import React,{useState}from'react';import Book from'../components/ui/Book';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Books=_ref=>{let{books:initialBooks}=_ref;const[books,setBooks]=useState(initialBooks);function filterBooks(filter){if(filter==='LOW_TO_HIGH'){setBooks(books.slice().sort((a,b)=>(a.salePrice||a.originalPrice)-(b.salePrice||b.originalPrice)));}if(filter==='HIGH_TO_LOW'){setBooks(books.slice().sort((a,b)=>(b.salePrice||b.originalPrice)-(a.salePrice||a.originalPrice)));}if(filter==='RATING'){setBooks(books.slice().sort((a,b)=>b.rating-a.rating));}}return/*#__PURE__*/_jsx(\"div\",{id:\"books__body\",children:/*#__PURE__*/_jsx(\"main\",{id:\"books__main\",children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"books__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"books__header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section__title books__header--title\",children:\"All Books\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"\",id:\"filter\",defaultValue:\"DEFAULT\",onChange:event=>filterBooks(event.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"DEFAULT\",disabled:true,children:\"Sort\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LOW_TO_HIGH\",children:\"Price, Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HIGH_TO_LOW\",children:\"Price, High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"RATING\",children:\"Rating\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"books\",children:books.map(book=>/*#__PURE__*/_jsx(Book,{book:book},book.id))})]})})})})});};export default Books;","map":{"version":3,"sources":["/Users/hanlunzheng/Desktop/practiceProject/OnlineBookStore/src/pages/Books.jsx"],"names":["React","useState","Book","Books","books","initialBooks","setBooks","filterBooks","filter","slice","sort","a","b","salePrice","originalPrice","rating","event","target","value","map","book","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,C,yDAKA,KAAMC,CAAAA,KAAK,CAAG,MAA6B,IAA5B,CAAEC,KAAK,CAAEC,YAAT,CAA4B,MACvC,KAAM,CAACD,KAAD,CAAQE,QAAR,EAAoBL,QAAQ,CAACI,YAAD,CAAlC,CAEA,QAASE,CAAAA,WAAT,CAAqBC,MAArB,CAA6B,CAEzB,GAAIA,MAAM,GAAK,aAAf,CAA8B,CAC1BF,QAAQ,CAACF,KAAK,CAACK,KAAN,GAAcC,IAAd,CAAmB,CAACC,CAAD,CAAGC,CAAH,GAAS,CAACD,CAAC,CAACE,SAAF,EAAeF,CAAC,CAACG,aAAlB,GAAoCF,CAAC,CAACC,SAAF,EAAeD,CAAC,CAACE,aAArD,CAA5B,CAAD,CAAR,CAEH,CACD,GAAIN,MAAM,GAAK,aAAf,CAA8B,CAC1BF,QAAQ,CAACF,KAAK,CAACK,KAAN,GAAcC,IAAd,CAAmB,CAACC,CAAD,CAAGC,CAAH,GAAS,CAACA,CAAC,CAACC,SAAF,EAAeD,CAAC,CAACE,aAAlB,GAAoCH,CAAC,CAACE,SAAF,EAAeF,CAAC,CAACG,aAArD,CAA5B,CAAD,CAAR,CAEH,CACD,GAAIN,MAAM,GAAK,QAAf,CAAyB,CACrBF,QAAQ,CAACF,KAAK,CAACK,KAAN,GAAcC,IAAd,CAAmB,CAACC,CAAD,CAAGC,CAAH,GAASA,CAAC,CAACG,MAAF,CAAWJ,CAAC,CAACI,MAAzC,CAAD,CAAR,CACH,CACJ,CACD,mBACI,YAAK,EAAE,CAAC,aAAR,uBACI,aAAM,EAAE,CAAC,aAAT,uBACI,sCACI,YAAK,SAAS,CAAC,kBAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,WAAI,SAAS,CAAC,qCAAd,UAAoD,WAApD,EADJ,cAII,gBAAQ,IAAI,CAAC,EAAb,CAAgB,EAAE,CAAC,QAAnB,CAA4B,YAAY,CAAC,SAAzC,CAAmD,QAAQ,CAAKC,KAAD,EAAWT,WAAW,CAACS,KAAK,CAACC,MAAN,CAAaC,KAAd,CAArF,wBACI,eAAQ,KAAK,CAAC,SAAd,CAAwB,QAAQ,KAAhC,UAAiC,MAAjC,EADJ,cAEI,eAAQ,KAAK,CAAC,aAAd,UAA4B,oBAA5B,EAFJ,cAGI,eAAQ,KAAK,CAAC,aAAd,UAA4B,oBAA5B,EAHJ,cAII,eAAQ,KAAK,CAAC,QAAd,UAAuB,QAAvB,EAJJ,GAJJ,GADJ,cAYI,YAAK,SAAS,CAAC,OAAf,UACKd,KAAK,CAACe,GAAN,CAAWC,IAAD,eACX,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EAAuBA,IAAI,CAACC,EAA5B,CADC,CADL,EAZJ,GADJ,EADJ,EADJ,EADJ,EADJ,CA6BH,CA9CD,CAgDA,cAAelB,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport Book from '../components/ui/Book';\n\n\n\n\nconst Books = ({ books: initialBooks }) => {\n    const [books, setBooks] = useState(initialBooks);\n\n    function filterBooks(filter) {\n      \n        if (filter === 'LOW_TO_HIGH') {\n            setBooks(books.slice().sort((a,b) => (a.salePrice || a.originalPrice) - (b.salePrice || b.originalPrice)))\n            \n        }\n        if (filter === 'HIGH_TO_LOW') {\n            setBooks(books.slice().sort((a,b) => (b.salePrice || b.originalPrice) - (a.salePrice || a.originalPrice)))\n            \n        }\n        if (filter === 'RATING') {\n            setBooks(books.slice().sort((a,b) => b.rating - a.rating))\n        }\n    }\n    return (\n        <div id='books__body'>\n            <main id=\"books__main\">\n                <section>\n                    <div className=\"books__container\">\n                        <div className=\"row\">\n                            <div className=\"books__header\">\n                                <h2 className='section__title books__header--title'>\n                                    All Books\n                                </h2>\n                                <select name=\"\" id=\"filter\" defaultValue='DEFAULT' onChange = {(event) => filterBooks(event.target.value)}>\n                                    <option value=\"DEFAULT\" disabled>Sort</option>\n                                    <option value=\"LOW_TO_HIGH\">Price, Low to High</option>\n                                    <option value=\"HIGH_TO_LOW\">Price, High to Low</option>\n                                    <option value=\"RATING\">Rating</option>\n                                </select>\n                            </div>\n                            <div className=\"books\">\n                                {books.map((book) => (\n                                <Book book={book} key={book.id} />\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </main>\n\n        </div>\n    );\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}