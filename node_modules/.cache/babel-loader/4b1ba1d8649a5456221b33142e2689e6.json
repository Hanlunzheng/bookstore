{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import EmptyCart from\"../assets/empty_cart.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=_ref=>{let{cart,changeQuantity,removeItem}=_ref;const total=()=>{let price=0;cart.forEach(item=>{price+=+((item.salePrice||item.originalPrice)*item.quantity).toFixed(2);});return price;};return/*#__PURE__*/_jsx(\"div\",{id:\"books__body\",children:/*#__PURE__*/_jsx(\"main\",{id:\"books__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"books__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"book__selected--top\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"cart__title\",children:\"Cart\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart__header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cart__book\",children:\"Book\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cart__quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cart__qtotal\",children:\"Price\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart__body\",children:cart.map(book=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"cart__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart__book\",children:[/*#__PURE__*/_jsx(\"img\",{src:book.url,className:\"cart__book--img\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart__book--info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cart__book--title\",children:book.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"cart__book--price\",children:[\"$\",(book.salePrice||book.originalPrice).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(book),className:\"cart__book--remove\",children:\"Remove\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart__quantity\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,max:99,className:\"cart__input\",value:book.quantity,onChange:event=>changeQuantity(book,event.target.value)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart__total\",children:[\"$\",((book.salePrice||book.originalPrice)*book.quantity).toFixed(2)]})]});})}),cart.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"cart__empty\",children:[/*#__PURE__*/_jsx(\"img\",{src:EmptyCart,alt:\"\",className:\"cart__empty--img\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"You don't have any books in your cart!\"}),/*#__PURE__*/_jsx(Link,{to:\"/books\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Browse books\"})})]})]}),cart.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"total\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total__item total__sub-total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",(total()*0.9).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total__item total__tax\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Tax\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",(total()*0.1).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total__item total__price\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",total().toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn__checkout no-cursor\",onClick:()=>alert(\"Haven't done this\"),children:\"Proceed to checkout\"})]})]})})})});};export default Cart;","map":{"version":3,"sources":["/Users/hanlunzheng/Desktop/practiceProject/OnlineBookStore/src/pages/Cart.jsx"],"names":["React","useEffect","useState","Link","EmptyCart","Cart","cart","changeQuantity","removeItem","total","price","forEach","item","salePrice","originalPrice","quantity","toFixed","map","book","url","title","event","target","value","length","alert"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport EmptyCart from \"../assets/empty_cart.svg\"\n\nconst Cart = ({ cart, changeQuantity, removeItem }) => {\n    const total = () => {\n        let price = 0\n        cart.forEach((item) => {\n            price +=\n            +((item.salePrice || item.originalPrice) * item.quantity).toFixed(2);\n        });\n        return price;\n    }\n    return (\n        <div id=\"books__body\">\n            <main id=\"books__main\">\n                <div className=\"books__container\">\n                    <div className=\"row\">\n                        <div className=\"book__selected--top\">\n                            <h2 className=\"cart__title\">\n                                Cart\n                            </h2>\n                        </div>\n                        <div className=\"cart\">\n                            <div className=\"cart__header\">\n                                <span className=\"cart__book\">Book</span>\n                                <span className=\"cart__quantity\">Quantity</span>\n                                <span className=\"cart__qtotal\">Price</span>\n                            </div>\n                            <div className=\"cart__body\">\n                                {\n                                    cart.map(book => {\n                                        return (\n                                            <div className=\"cart__item\">\n                                                <div className=\"cart__book\">\n                                                    <img\n                                                        src={book.url}\n                                                        className=\"cart__book--img\"\n                                                        alt=\"\"\n                                                    />\n                                                    <div className=\"cart__book--info\">\n                                                        <span className=\"cart__book--title\">\n                                                            {book.title}\n                                                        </span>\n                                                        <span className=\"cart__book--price\">\n                                                            ${(book.salePrice || book.originalPrice).toFixed(2)}\n                                                        </span>\n                                                        <button onClick = {() => removeItem(book)} className=\"cart__book--remove\">\n                                                            Remove\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                <div className=\"cart__quantity\">\n                                                    <input type=\"number\"\n                                                        min={0}\n                                                        max={99}\n                                                        className=\"cart__input\"\n                                                        value={book.quantity}\n                                                        onChange={(event) => changeQuantity(book, event.target.value)} />\n                                                </div>\n                                                <div className=\"cart__total\">\n                                                    ${((book.salePrice || book.originalPrice) * book.quantity).toFixed(2)}\n                                                </div>\n                                            </div>\n                                        )\n                                    })\n                                }\n\n                            </div>\n                            {\n                                cart.length === 0 &&  <div className=\"cart__empty\">\n                                <img src={EmptyCart} alt=\"\" className=\"cart__empty--img\" />\n                                <h2>You don't have any books in your cart!</h2>\n                                <Link to= \"/books\">\n                                <button className='btn'>Browse books</button>\n                                </Link>\n                            </div>\n                            }\n                           \n                        </div>\n                        {cart.length > 0 && <div className=\"total\">\n                            <div className=\"total__item total__sub-total\">\n                                <span>Subtotal</span>\n                                <span>${(total() * 0.9).toFixed(2)}</span>\n                            </div>\n                            <div className=\"total__item total__tax\">\n                                <span>Tax</span>\n                                <span>${(total() * 0.1).toFixed(2)}</span>\n                            </div>\n                            <div className=\"total__item total__price\">\n                                <span>Total</span>\n                                <span>${total().toFixed(2)}</span>\n                            </div>\n                            <button className=\"btn btn__checkout no-cursor\"\n                                onClick={() => alert(`Haven't done this`)}>\n                                Proceed to checkout\n                            </button>\n                        </div>}\n                    </div>\n                </div>\n            </main>\n        </div>\n    );\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}