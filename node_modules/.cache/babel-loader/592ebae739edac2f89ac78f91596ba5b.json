{"ast":null,"code":"import Nav from'./components/Nav';import React,{useEffect,useState}from\"react\";import Footer from'./components/Footer';import{BrowserRouter as Router,Route}from'react-router-dom';import Home from'./pages/Home';import Books from'./pages/Books';import{books}from'./data';import BookInfo from'./pages/BookInfo';import Cart from'./pages/Cart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[cart,setCart]=useState([]);function addToCart(book){setCart([...cart,{...book,quantity:1}]);}function changeQuantity(book,quantity){setCart(cart.map(item=>{if(item.id===book.id){return{...item,quantity:+quantity};}else{return item;}}));}function removeItem(item){setCart(cart.filter(book=>book.id!==item.id));}function numberOfItems(){let counter=0;cart.forEach(item=>{counter+=item.quantity;});return counter;}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Nav,{numberOfItems:numberOfItems()}),/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/books\",exact:true,render:()=>/*#__PURE__*/_jsx(Books,{books:books})}),/*#__PURE__*/_jsx(Route,{path:\"/books/:id\",render:()=>/*#__PURE__*/_jsx(BookInfo,{books:books,addToCart:addToCart,cart:cart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",render:()=>/*#__PURE__*/_jsx(Cart,{books:books,cart:cart,changeQuantity:changeQuantity,removeItem:removeItem})}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"sources":["/Users/hanlunzheng/Desktop/practiceProject/OnlineBookStore/src/App.js"],"names":["Nav","React","useEffect","useState","Footer","BrowserRouter","Router","Route","Home","Books","books","BookInfo","Cart","App","cart","setCart","addToCart","book","quantity","changeQuantity","map","item","id","removeItem","filter","numberOfItems","counter","forEach"],"mappings":"AAAA,MAAOA,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,KAA8C,kBAA9C,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,OAASC,KAAT,KAAsB,QAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,C,yDAKA,QAASC,CAAAA,GAAT,EAAe,CACb,KAAM,CAACC,IAAD,CAAOC,OAAP,EAAkBZ,QAAQ,CAAC,EAAD,CAAhC,CAEA,QAASa,CAAAA,SAAT,CAAmBC,IAAnB,CAAyB,CACvBF,OAAO,CAAC,CAAC,GAAGD,IAAJ,CAAU,CAAC,GAAGG,IAAJ,CAAUC,QAAQ,CAAE,CAApB,CAAV,CAAD,CAAP,CACD,CACD,QAASC,CAAAA,cAAT,CAAyBF,IAAzB,CAA+BC,QAA/B,CAAwC,CACtCH,OAAO,CAACD,IAAI,CAACM,GAAL,CAASC,IAAI,EAAI,CACvB,GAAIA,IAAI,CAACC,EAAL,GAAYL,IAAI,CAACK,EAArB,CAAyB,CACvB,MAAO,CACL,GAAGD,IADE,CAELH,QAAQ,CAAE,CAACA,QAFN,CAAP,CAID,CALD,IAMO,CACH,MAAOG,CAAAA,IAAP,CACD,CACJ,CAVO,CAAD,CAAP,CAWD,CAED,QAASE,CAAAA,UAAT,CAAqBF,IAArB,CAA2B,CACzBN,OAAO,CAACD,IAAI,CAACU,MAAL,CAAYP,IAAI,EAAIA,IAAI,CAACK,EAAL,GAAYD,IAAI,CAACC,EAArC,CAAD,CAAP,CACD,CAED,QAASG,CAAAA,aAAT,EAAyB,CACvB,GAAIC,CAAAA,OAAO,CAAG,CAAd,CACAZ,IAAI,CAACa,OAAL,CAAaN,IAAI,EAAI,CACnBK,OAAO,EAAIL,IAAI,CAACH,QAAhB,CACD,CAFD,EAGA,MAAOQ,CAAAA,OAAP,CACD,CAED,mBACE,KAAC,MAAD,wBACA,aAAK,SAAS,CAAC,KAAf,wBAEE,KAAC,GAAD,EAAK,aAAa,CAAID,aAAa,EAAnC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEjB,IAAjC,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,MAAM,CAAG,iBAAM,KAAC,KAAD,EAAO,KAAK,CAAEE,KAAd,EAA1C,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,MAAM,CAAE,iBAAM,KAAC,QAAD,EAAU,KAAK,CAAEA,KAAjB,CAAwB,SAAS,CAAEM,SAAnC,CAA8C,IAAI,CAAIF,IAAtD,EAAvC,EALF,cAME,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,MAAM,CAAG,iBAC7B,KAAC,IAAD,EAAM,KAAK,CAAEJ,KAAb,CAAoB,IAAI,CAAII,IAA5B,CACA,cAAc,CAAIK,cADlB,CAEA,UAAU,CAAII,UAFd,EADA,EANF,cAUE,KAAC,MAAD,IAVF,GADA,EADF,CAgBD,CAED,cAAeV,CAAAA,GAAf","sourcesContent":["import Nav from './components/Nav';\nimport React, { useEffect, useState } from \"react\";\nimport Footer from './components/Footer';\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\nimport Home from './pages/Home';\nimport Books from './pages/Books';\nimport { books } from './data'\nimport BookInfo from './pages/BookInfo';\nimport Cart from './pages/Cart';\n\n\n\n\nfunction App() {\n  const [cart, setCart] = useState([]);\n\n  function addToCart(book) {\n    setCart([...cart, {...book, quantity: 1}])\n  }\n  function changeQuantity (book, quantity){\n    setCart(cart.map(item => {\n      if (item.id === book.id) {\n        return {\n          ...item,\n          quantity: +quantity,\n        }\n      }\n        else {\n          return item\n        }\n    }))\n  }\n\n  function removeItem (item) {\n    setCart(cart.filter(book => book.id !== item.id ))\n  }\n\n  function numberOfItems() {\n    let counter = 0\n    cart.forEach(item => {\n      counter += item.quantity\n    })\n    return counter\n  }\n\n  return (\n    <Router>\n    <div className=\"App\">\n     \n      <Nav numberOfItems = {numberOfItems()}/>\n      <Route path=\"/\" exact component={Home}/>\n      <Route path=\"/books\" exact render= {() => <Books books={books}/>}/>\n      <Route path=\"/books/:id\" render={() => <BookInfo books={books} addToCart={addToCart} cart = {cart}/>}/>\n      <Route path=\"/cart\" render= {() => \n      <Cart books={books} cart = {cart} \n      changeQuantity = {changeQuantity} \n      removeItem = {removeItem}/>}/>\n      <Footer/>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n\n\n\n"]},"metadata":{},"sourceType":"module"}